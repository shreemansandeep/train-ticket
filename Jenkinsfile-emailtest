pipeline{
  agent any
    stages{
    
      stage("Git Checkout"){
        steps{
              git credentialsId: 'GitID', url: 'https://github.com/shreemansandeep/Train-Ticket-Reservation-System.git'
        }
      }
      
      stage("Maven Build"){
      steps{
          sh "mvn clean install"
  
    }
}

stage('post-build') {
      
      SendEmailNotification("SUCCESSFUL")
    }
   catch(e) {
    // mark build as failed
    currentBuild.result = "FAILURE";
   
    SendEmailNotification(currentBuild.result)

    // mark current build as a failure and throw the error
    throw e;
  }

    }
      
   }

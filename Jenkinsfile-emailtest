pipeline{
  agent any
    stages{
    
      stage("Git Checkout"){
        steps{
              git credentialsId: 'GitID', url: 'https://github.com/shreemansandeep/Train-Ticket-Reservation-System.git'
        }
      }
      
      stage("Maven Build"){
      steps{
          sh "mvn clean install"
  
    }
}
    }
    
    /*
    post {
    success {
      mail to: "shreemansandeep@gmail.com", 
      subject:"SUCCESS: ${currentBuild.fullDisplayName}", 
      body: "More Info can be found here: ${env.BUILD_URL}."
    }
    failure {
      mail to: "shreemansandeep@gmail.com", 
      subject:"FAILURE: ${currentBuild.fullDisplayName}", 
      body: "More Info can be found here: ${env.BUILD_URL}."
    }
  }
     */
     
     post {
    success {
      emailext attachLog: true, body: "${currentBuild.result}: ${BUILD_URL}", compressLog: true, replyTo: 'shreemansandeep@gmail.com',
       subject: "Build Notification: ${JOB_NAME}-Build# ${BUILD_NUMBER} ${currentBuild.result}", to: 'shreemansandeep@gmail.com'
    }
    failure {
      emailext attachLog: true, body: "${currentBuild.result}: ${BUILD_URL}", compressLog: true, replyTo: 'shreemansandeep@gmail.com',
       subject: "Build Notification: ${JOB_NAME}-Build# ${BUILD_NUMBER} ${currentBuild.result}", to: 'shreemansandeep@gmail.com'
    }
  }
    
    }
      
   

pipeline{
  agent any
    stages{
    
      stage("Git Checkout"){
        steps{
              git credentialsId: 'GitID', url: 'https://github.com/shreemansandeep/Train-Ticket-Reservation-System.git'
        }
      }
      
      stage("Maven Build"){
      steps{
          sh "mvn clean install"
  
    }
}

stage('Error') {
            when {
                expression { doError == '1' }
            }
            steps {
                echo "Failure"
                error "failure test. It's work"
            }
        }
        
        stage('Success') {
            when {
                expression { doError == '0' }
            }
            steps {
                echo "ok"
            }
        }
    }
    post{
        always{
            mail to: "shreemansandeep@gmail.com",
            subject: "${JOB_NAME - Build} # ${BUILD_NUMBER} ${env.JOB_RESULT}",
            body: "${JOB_NAME - Build} # ${BUILD_NUMBER} ${env.JOB_RESULT}:\nMore Info can be found here: ${env.BUILD_URL}"
        }
    }

    }
    
    
      
   
